Here‚Äôs a **QA-focused, practical overview of JWT (JSON Web Token)** ‚Äî what it is, how it‚Äôs structured, and **what you should test and watch for** in real systems.

---

## 1. What is JWT (in simple terms)

**JWT = a compact, self-contained token used for authentication and authorization.**

It is commonly used in:

* API authentication (Bearer tokens)
* Microservices
* SPA / mobile apps
* OAuth2 / OpenID Connect flows

A JWT:

* Is **generated by the backend**
* Is **sent by the client on every request**
* **Contains user and security data**
* Is **signed (and sometimes encrypted)**

![alt text](<examples/JWT token.jpg>)
---

## 2. JWT format (structure)

A JWT always looks like this:

```
xxxxx.yyyyy.zzzzz
```

Three **Base64URL-encoded** parts separated by dots:

```
HEADER.PAYLOAD.SIGNATURE
```

---

### 2.1 Header

Describes **how the token is signed**.

Example (decoded):

```json
{
  "alg": "HS256",
  "typ": "JWT"
}
```

QA should know:

* `alg` = signing algorithm

  * HS256 (shared secret)
  * RS256 (public/private key) ‚Üê **enterprise standard**
* `typ` usually `"JWT"`

‚ö†Ô∏è Red flag:

* `alg: none` ‚Üí **critical security vulnerability**

---

### 2.2 Payload (Claims)

Contains **user data and security claims**.

Example:

```json
{
  "sub": "1234567890",
  "email": "user@test.com",
  "role": "admin",
  "iat": 1710000000,
  "exp": 1710003600,
  "iss": "auth.company.com",
  "aud": "payments-api"
}
```

#### Common claims QA must understand

| Claim                    | Meaning           | What to test               |
| ------------------------ | ----------------- | -------------------------- |
| `sub`                    | Subject (user ID) | Correct user               |
| `iat`                    | Issued at         | Token freshness            |
| `exp`                    | Expiration time   | Token expiry handling      |
| `nbf`                    | Not before        | Token not usable too early |
| `iss`                    | Issuer            | Correct auth server        |
| `aud`                    | Audience          | Correct API                |
| Custom (`role`, `scope`) | Authorization     | Access control             |

‚ö†Ô∏è Important:

* **JWT payload is NOT encrypted** (only Base64 encoded)
* Never store:

  * Passwords
  * Credit cards
  * Secrets

---

### 2.3 Signature

Ensures:

* Token was **not tampered**
* Token was issued by a **trusted authority**

Example:

```
HMACSHA256(
  base64UrlEncode(header) + "." + base64UrlEncode(payload),
  secret
)
```

QA does NOT validate signature manually, but must:

* Ensure backend **rejects modified tokens**
* Ensure algorithm is enforced

---

## 3. How JWT is used in requests

Typical API call:

```
Authorization: Bearer <JWT>
```

Example:

```
Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...
```

---

## 4. What QA MUST test with JWT

### 4.1 Authentication scenarios

| Test                         | Expected           |
| ---------------------------- | ------------------ |
| No token                     | 401 Unauthorized   |
| Invalid token                | 401                |
| Expired token                | 401 + proper error |
| Token from other environment | 401                |
| Malformed token              | 401                |

---

### 4.2 Authorization scenarios

| Scenario                            | Expected      |
| ----------------------------------- | ------------- |
| Valid user, wrong role              | 403 Forbidden |
| Missing scope/permission            | 403           |
| Admin token accessing user endpoint | Allowed       |
| User token accessing admin endpoint | Denied        |

---

### 4.3 Token expiry & refresh

QA should verify:

* Token expires exactly as defined
* Expired token is rejected
* Refresh token flow works (if implemented)
* Old token becomes invalid after refresh

Typical flow:

```
Access Token (short-lived) ‚Üí expires
Refresh Token ‚Üí get new Access Token
```

---

### 4.4 Security & negative testing (VERY important)

| Test                      | Why                                |
| ------------------------- | ---------------------------------- |
| Modify payload and resend | Must fail                          |
| Change `role` to admin    | Must fail                          |
| Change `exp` to future    | Must fail                          |
| Remove signature          | Must fail                          |
| Change `alg` to `none`    | Must fail                          |
| Reuse token after logout  | Should fail (if revocation exists) |

---

## 5. Common JWT bugs QA should catch

* ‚ùå Token accepted after expiration
* ‚ùå Backend trusts `role` without validating signature
* ‚ùå Same token works in prod and staging
* ‚ùå Token stored in LocalStorage (XSS risk)
* ‚ùå Long-lived access tokens (days/months)
* ‚ùå No audience (`aud`) validation
* ‚ùå Refresh token never expires

---

## 6. JWT vs Session (QA perspective)

| JWT                 | Session                  |
| ------------------- | ------------------------ |
| Stateless           | Server stores session    |
| Used in APIs        | Used in web apps         |
| Harder to revoke    | Easy to invalidate       |
| Needs strict expiry | Server controls lifetime |

---

## 7. Tools QA should know

* **jwt.io** ‚Üí decode & inspect tokens
* **Postman / Insomnia** ‚Üí test bearer auth
* **Burp / OWASP ZAP** ‚Üí tampering tests
* **Playwright / Cypress** ‚Üí inject tokens
* **Curl** ‚Üí raw API validation

---

## 8. Key QA takeaway (summary)

If you remember only this:

- ‚úÖ JWT is **not secret**, only signed
- ‚úÖ Payload can be read by anyone
- ‚úÖ Signature must protect all claims
- ‚úÖ Expiry, audience, issuer must be validated
- ‚úÖ Authorization must NEVER trust payload blindly


--- 
--- 
--- 
## 1. How to find JWT in Chrome DevTools (step-by-step)

Yes ‚úÖ ‚Äî **you can usually find a JWT in Chrome DevTools**, but **where it appears depends on how the app stores and sends it**.

Below is a **QA-friendly, step-by-step guide**.

---

## 1. Open Chrome DevTools

* Open the web app
* Press **F12** or **Ctrl + Shift + I**
* Go to **DevTools**

---

## 2. Most reliable place: Network tab (BEST for QA)

### Steps

1. Go to **Network**
2. Refresh the page (**F5**)
3. Click any API request (usually `/api`, `/graphql`, `/auth`, `/user`)
4. Open **Headers**
5. Look for:

```
Authorization: Bearer eyJhbGciOi...
```

üìå That long string starting with `eyJ` is a JWT.

Why this is best:

* Shows **real token actually sent**
* Works regardless of storage (cookie / localStorage / memory)
* Lets you verify:

  * Token refresh
  * Token change after login
  * Token expiry behavior

---

## 3. Application tab ‚Üí Storage (very common)

### 3.1 Local Storage

1. Go to **Application**
2. Open **Local Storage**
3. Select your domain
4. Look for keys like:

   * `token`
   * `access_token`
   * `jwt`
   * `authToken`

Example value:

```
eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...
```

‚ö†Ô∏è QA note:

* JWT in LocalStorage ‚Üí **XSS risk**
* Many security teams prefer **HttpOnly cookies**

---

### 3.2 Session Storage

Same path as Local Storage:

```
Application ‚Üí Session Storage ‚Üí your domain
```

Used when token should disappear on tab close.

---

### 3.3 Cookies

1. Go to **Application ‚Üí Cookies**
2. Select your domain
3. Look for cookie names like:

   * `access_token`
   * `id_token`
   * `auth`

If cookie:

* It may be **HttpOnly**
* If HttpOnly ‚Üí ‚ùå not visible in JS, but:

  * Still visible in **Network ‚Üí Request Headers**

QA checks:

* `HttpOnly` ‚úÖ
* `Secure` ‚úÖ
* `SameSite` set correctly

---

## 4. Console tab (sometimes works)

You can try:

```js
localStorage
```

or:

```js
localStorage.getItem('token')
```

But this only works if:

* Token is stored in local/session storage
* Token is not HttpOnly cookie
* App doesn‚Äôt keep token in memory only

---

## 5. How to recognize a JWT quickly

JWT usually:

* Starts with `eyJ`
* Contains **two dots** (`.`)

Example:

```
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0In0.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c
```

---

## 6. Decode it (QA must-do)

Once you copy the token:

* Paste it into **jwt.io**
* Inspect:

  * `exp` (expiration)
  * `role` / `scope`
  * `iss`, `aud`

QA tip:

> Never assume token content = authorization
> Backend must validate signature.

---

## 7. Common QA scenarios to verify in DevTools

| Check                      | Where             |
| -------------------------- | ----------------- |
| Token added after login    | Network           |
| Token removed after logout | Storage + Network |
| Token refreshed            | Network           |
| Expired token rejected     | Network response  |
| Same token reused          | Network           |
| Token sent to wrong API    | Network           |

---

## 8. When you WON‚ÄôT see a JWT easily

Some apps:

* Store token **only in memory**
* Use **opaque tokens**
* Use **silent refresh via iframe**
* Use **Backend-for-Frontend**

In these cases:

* Network tab is still your source of truth

---

## 9. QA takeaway (short)

> üîç **Network tab never lies**
> üîê Storage shows security posture
> üö´ HttpOnly cookie = good sign
> üëÄ If you can read JWT ‚Üí attacker can too

---

If you want, I can:

* Show **how to simulate JWT expiry in DevTools**
* Explain **token rotation visually**
* Give a **QA checklist for JWT inspection**
* Explain **OAuth tokens vs JWT**

Just say the word.
