## State Transition Testing

A state diagram models the behavior of a system by showing its 
- possible states and 
- **valid state transitions**. 

A transition is initiated by an event, which may be additionally qualified by a guard condition. The transitions are assumed to be instantaneous and may sometimes result in the software taking action. 

The common transition labeling syntax is as follows: `event [guard condition] / action`. Guard conditions and actions can be omitted if they do not exist or are irrelevant for the tester. 
A **state table** is a model equivalent to a **state diagram**. Its 
- rows represent states, and its 
- columns represent events (together with guard conditions if they exist). Table 
- entries (cells) represent transitions, and contain the 
    - target state, as well as the 
    - resulting actions, if defined. 

Think of the state table as a "*What happens if...?*" matrix.
Each cell is the intersection of "*If I am in State X and Event Y happens...*"

In contrast to the state diagram, the state table explicitly shows 
- *invalid transitions, which are represented by empty cells*:

![TransitionTable](<images/state TransitionTable.jpg>)

A test case based on a state diagram or state table is usually represented as a sequence of events, which results in a sequence of state changes (and actions, if needed). 
One test case may, and usually will, **cover several transitions** between states.

There exist **many coverage criteria** for state transition testing. This syllabus discusses three of them.

- In **All states coverage**, the coverage items are the states. To achieve 100% all states coverage, test cases must ensure that all the states are exercised. 
`100% = all the states are exercised`
Coverage is measured as the number of exercised states divided by the total number of states and is expressed as a percentage.

- In **Valid transitions coverage** (also called 0-switch coverage), the coverage items are single valid transitions. To achieve 100% valid transitions coverage, test cases must exercise all the valid transitions.
Coverage is measured as the number of exercised valid transitions divided by the total number of valid transitions and is expressed as a percentage.

- In **All transitions coverage**, the coverage items are all the transitions shown in a state table. To achieve 100% all transitions coverage, test cases must exercise all the valid transitions and attempt to execute invalid transitions. Testing only one invalid transition in a single test case helps to avoid defect masking,
i.e., a situation in which one defect prevents the detection of another. Coverage is measured as the number of valid and invalid transitions exercised or attempted to be covered by executed test cases, divided by the total number of valid and invalid transitions, and is expressed as a percentage.

All states coverage is weaker than valid transitions coverage, because it can typically be achieved without
exercising all the transitions. Valid transitions coverage is the most widely used coverage criterion.
Achieving full valid transitions coverage guarantees full all states coverage. Achieving full all transitions
coverage guarantees both full all states coverage and full valid transitions coverage and should be a
minimum requirement for mission and safety-critical software